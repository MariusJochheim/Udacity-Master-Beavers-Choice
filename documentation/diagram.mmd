flowchart LR

  %% ========= ACTORS =========
  Customer([Customer])

  %% ========= AGENTS =========
  subgraph Agents[Planned Agent Team]
    Orchestrator["Orchestrator Agent"]
    InventoryAgent["Inventory & Procurement Agent"]
    QuoteAgent["Pricing & Quote Agent"]
    OrderAgent["Order Execution Agent"]
    FinanceAgent["Finance Agent"]
  end

  %% ========= TOOLS / DATA =========
  subgraph Tools[Available Tools]
    InventoryTools["get_all_inventory()<br/>get_stock_level()"]
    QuoteHistory["search_quote_history()"]
    DeliveryETA["get_supplier_delivery_date()"]
    Transactions["create_transaction()"]
    FinReport["generate_financial_report()"]
    DB[(SQLite DB:<br/>transactions,<br/>inventory,<br/>quote_requests,<br/>quotes)]
  end

  DB <--> InventoryTools
  DB <--> QuoteHistory
  DB <--> Transactions
  DB <--> FinReport

  %% ========= REQUEST HANDLING =========
  Customer -->|Request| Orchestrator
  Orchestrator -->|Context + intent| QuoteAgent
  QuoteAgent -->|Pricing anchors| QuoteHistory
  QuoteAgent -->|Stock check| InventoryAgent
  InventoryAgent --> InventoryTools
  InventoryAgent --> DeliveryETA
  InventoryAgent -->|Restock recommendations| Orchestrator
  QuoteAgent -->|Quote & availability| Orchestrator

  %% ========= ORDERING & FULFILLMENT =========
  Orchestrator -->|Approved sale| OrderAgent
  OrderAgent -->|Record sale| Transactions
  OrderAgent -->|Replenish if needed| Transactions
  OrderAgent -->|Customer ETA| DeliveryETA

  %% ========= REPORTING =========
  Orchestrator -->|Status snapshot| FinanceAgent
  FinanceAgent --> FinReport
  FinReport --> Orchestrator

  %% ========= RESPONSE =========
  Orchestrator -->|Quote / order confirmation| Customer
